# 🤔교착 상태란 무엇이고 4가지 조건에 대해 설명해 주세요.

김모건 노션AI

💡 #운영체제 교착 상태의 개념과 원인을 이해하고 있나요? #교착 상태 해결 방법 #데드락(Dethrock)

## 답변 드리겠습니다!

<aside>
📌 교착 상태란 두 개 이상의 프로세스가 서로 상대방의 작업이 끝나기만을 기다리고 있기 때문에 결과적으로 아무것도 완료되지 못하는 상태입니다. 교착 상태가 발생하려면 다음과 같은 4가지 필요 조건을 모두 만족해야 합니다. **첫째**, 상호 배제 조건이란 프로세스들이 필요로 하는 자원에 대해 배타적인 통제권을 요구하는 것입니다. **둘째**, 점유 대기 조건이란 프로세스가 할당된 자원을 가진 상태에서 다른 자원을 기다리는 것입니다. **셋째**, 비선점 조건이란 프로세스가 어떤 자원의 사용을 끝낼 때까지 그 자원을 뺏을 수 없는 것입니다. **넷째**, 순환 대기 조건이란 각 프로세스는 순환적으로 다음 프로세스가 요구하는 자원을 가지고 있다는 것입니다.

</aside>

교착 상태를 이해하기 위해서는 먼저 자원 할당 그래프라는 개념을 알아야 합니다. 자원 할당 그래프는 프로세스가 어떤 자원을 사용 중이고 어떤 자원을 기다리는 지를 나타내는 방향성이 있는 그래프입니다. 프로세스는 원으로, 자원은 사각형으로 표현하며, 자원에서 프로세스로 가는 화살표는 프로세스가 자원을 할당 받은 것이고, 프로세스에서 자원으로 가는 화살표는 프로세스가 자원을 요구하는 것입니다. 여러 프로세스가 하나의 자원을 동시에 사용할 수 있으면 이를 다중 자원이라고 하며, 사각형 안에 동그라미로 표현합니다.

![교착상태가 있는 자원할당 그래프](Untitled%2048.png)

교착상태가 있는 자원할당 그래프

자원 할당 그래프를 통해 교착 상태의 발생 여부를 판단할 수 있습니다. 만약 그래프에 화살표 방향이 순환하는 사이클이 존재하면 교착 상태가 발생할 가능성이 있습니다. 만약 사이클에 포함된 모든 자원이 다중 자원이 아니라면 교착 상태가 발생합니다.

교착 상태의 필요 조건은 다음과 같습니다.

- **상호 배제 조건**: 한 프로세스가 사용하는 자원은 다른 프로세스와 공유할 수 없는 배타적인 자원이어야 합니다. 배타적인 자원은 임계구역으로 보호되기 때문에 다른 프로세스가 동시에 사용할 수 없습니다. 따라서 배타적인 자원을 사용하면 교착 상태가 발생할 수 있습니다.
- **점유 대기 조건**: 프로세스가 어떤 자원을 할당받은 상태에서 다른 자원을 기다리는 상태여야 합니다. 이때 프로세스는 이미 할당받은 자원을 놓지 않고 계속 점유하고 있어야 합니다. 만약 프로세스가 다른 자원을 기다리는 동안 자신의 자원을 놓으면 교착 상태는 발생하지 않습니다.
- **비선점 조건**: 프로세스가 어떤 자원의 사용을 끝낼 때까지 그 자원을 뺏을 수 없습니다. 즉, 프로세스가 자신이 사용하고 있는 자원을 스스로 내놓기 전까지는 다른 프로세스가 그 자원을 사용할 수 없습니다. 만약 운영체제가 필요에 따라 프로세스의 자원을 선점할 수 있다면 교착 상태는 발생하지 않습니다.
- **순환 대기 조건**: 각 프로세스는 순환적으로 다음 프로세스가 요구하는 자원을 가지고 있어야 합니다. 즉, 프로세스가 특정 자원에 대해 점유와 대기를 한다고 해서 모두 교착 상태에 빠지는 것은 아닙니다. 점유와 대기를 하는 프로세스들이 서로 방향하는 방향이 원을 이루면 프로세스들이 서로 양보하지 않기 때문에 교착 상태에 빠집니다.

## **이런 질문도 나올 수 있어요!**

### 교착 상태를 예방할 수 있는 방법을 설명해주세요.

현재의 대부분의 운영 체제들은 교착 상태를 막는 것은 불가능합니다.[[1]](https://ko.wikipedia.org/wiki/%EA%B5%90%EC%B0%A9_%EC%83%81%ED%83%9C#cite_note-os_galvin-1) 교착 상태가 발생하면 여러 운영 체제들은 제각기 다른 비표준 방식들로 이러한 교착 상태에 대응합니다. 대부분의 접근들은 4가지 코프먼 조건들 가운데 하나(특히 4번째 것)를 막음으로써 동작한다.[[2]](https://ko.wikipedia.org/wiki/%EA%B5%90%EC%B0%A9_%EC%83%81%ED%83%9C#cite_note-pric_os-2) 주요 접근 방식은 다음과 같습니다.

- **상호배제 조건의 제거**

교착 상태는 두 개 이상의 프로세스가 공유가능한 자원을 사용할 때 발생하는 것이므로 공유 불가능한, 즉 상호 배제 조건을 제거하면 교착 상태를 해결할 수 있습니다.

- **점유 대기 조건의 제거**

한 프로세스에 수행되기 전에 모든 자원을 할당시키고 나서 점유하지 않을 때에는 다른 프로세스가 자원을 요구하도록 하는 방법입니다. 자원 과다 사용으로 인한 효율성, 프로세스가 요구하는 자원을 파악하는 데에 대한 비용, 자원에 대한 내용을 저장 및 복원하기 위한 비용, [기아 상태](https://ko.wikipedia.org/wiki/%EA%B8%B0%EC%95%84_%EC%83%81%ED%83%9C), 무한대기 등의 문제점이 있습니다.

- **비선점 조건의 제거**

비선점 프로세스에 대해 선점 가능한 프로토콜을 만들어 줍니다.

- 순환 **대기 조건의 제거**

자원 유형에 따라 순서를 매깁니다.

이 교착 상태의 해결 방법들은 자원 사용의 효율성이 떨어지고 비용이 많이 드는 문제점이 있습니다.

### 교착 상태 회피하는 방법에 대해 알고 있나요?

자원이 어떻게 요청될 지에 대한 추가 정보를 제공하도록 요구하는 것으로 시스템에 circular wait가 발생하지 않도록 자원 할당 상태를 검사합니다.

교착 상태 회피하기 위한 알고리즘으로 크게 두 가지가 있습니다.

1. [자원 할당 그래프 알고리즘](https://ko.wikipedia.org/w/index.php?title=%EC%9E%90%EC%9B%90_%ED%95%A0%EB%8B%B9_%EA%B7%B8%EB%9E%98%ED%94%84_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98&action=edit&redlink=1) (Resource Allocation Graph Algorithm)
2. [은행원 알고리즘](https://ko.wikipedia.org/w/index.php?title=%EC%9D%80%ED%96%89%EC%9B%90_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98&action=edit&redlink=1) (Banker's algorithm)

## **만반의 준비! 이것도 알아둘까요?**

### **제목 heading3**

내용

[교착 상태 - 위키백과, 우리 모두의 백과사전](https://ko.wikipedia.org/wiki/%EA%B5%90%EC%B0%A9_%EC%83%81%ED%83%9C)

[OS는 할껀데 핵심만 합니다. 10편 Deadlock(교착상태)1, Deadlock의 정의와 필수 조건](https://velog.io/@chappi/OS%EB%8A%94-%ED%95%A0%EA%BB%80%EB%8D%B0-%ED%95%B5%EC%8B%AC%EB%A7%8C-%ED%95%A9%EB%8B%88%EB%8B%A4.-10%ED%8E%B8-Deadlock%EA%B5%90%EC%B0%A9%EC%83%81%ED%83%9C1-Deadlock%EC%9D%98-%EC%A0%95%EC%9D%98%EC%99%80-%ED%95%84%EC%88%98-%EC%A1%B0%EA%B1%B4)

[[개발자 면접] 교착상태란 무엇인지? 교착상태의 4가지 조건에 대해 설명하시오](https://bing.com/search?q=%ea%b5%90%ec%b0%a9+%ec%83%81%ed%83%9c%ec%99%80+%ea%b5%90%ec%b0%a9+%ec%83%81%ed%83%9c%ec%9d%98+4%ea%b0%80%ec%a7%80+%ec%a1%b0%ea%b1%b4)

[자원할당 그래프](https://wannabe-gosu.tistory.com/26)