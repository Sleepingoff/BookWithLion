# AI) CSRF나 XSS 공격을 막는 방법은? 🐱

황병헌

#**CSRF Token**

#**SameSite Cookies**

## 답변

<aside>
📌 CSRF(Cross-Site Request Forgery)와 XSS(Cross-Site Scripting) 공격을 막는 방법은 다양하며, 각각에 대해 아래에 설명하겠습니다.

- CSRF 방어 기법
    - CSRF Token: 서버는 사용자의 세션에 임의의 토큰을 생성하여 저장하고, 클라이언트에게도 이 토큰을 전달합니다. 클라이언트는 서버로 요청을 보낼 때 이 토큰 값을 포함시켜 서버가 요청이 유효한지 확인할 수 있게 합니다.
    - SameSite Cookies: 쿠키의 SameSite 속성은 브라우저가 사이트 간 요청과 함께 쿠키를 보내지 않도록 설정하는 것으로, CSRF 공격을 방어하는데 도움이 됩니다.
- XSS 방어 기법
    - Content Security Policy (CSP): CSP는 웹 페이지가 로드할 수 있는 리소스의 유형과 출처를 제한하여 악성 스크립트가 실행되는 것을 방지합니다.
    - Input Validation and Sanitization: 사용자로부터 입력 받은 데이터는 반드시 검증하고 필요한 경우 정제해야 합니다. 스크립트 코드가 포함된 입력값은 필터링 또는 이스케이프 처리를 하여 XSS 공격을 예방합니다.
    - HTTP Only Cookies: HTTP Only 속성이 설정된 쿠키는 자바스크립트에서 접근할 수 없으므로, XSS 공격으로부터 쿠키 정보를 보호하는데 도움이 됩니다.
- 위와 같은 기본적인 웹 보안을 준수함으로써 CSRF와 XSS 등의 공격으로부터 시스템을 보호할 수 있습니다. / **770** 글자
</aside>

## **꼬리 질문**

### **Content Security Policy (CSP)를 구체적으로 어떻게 설정하나요?**

- Content Security Policy (CSP)를 구체적으로 설정하는 방법은 다음과 같습니다
- HTTP 응답 헤더를 사용하여 CSP 설정: CSP는 웹 서버가 HTTP 응답 헤더에 `Content-Security-Policy` 또는 `Content-Security-Policy-Report-Only`라는 이름의 헤더를 포함하여 클라이언트로 전송함으로써 설정됩니다.
- CSP 지시문 작성: CSP 지시문은 리소스의 출처 및 유형을 정의합니다. 이러한 지시문은 세미콜론(`;`)으로 구분되며, 각각은 특정 종류의 리소스에 대한 정책을 나타냅니다.
    - 예를 들어, `default-src 'self'`는 기본적으로 모든 리소스가 현재 도메인에서만 로드되어야 함을 나타냅니다.
    - `script-src 'self' https://example.com`는 스크립트 파일이 현재 도메인과 "[https://example.com"에서만](https://example.xn--com%22-nc5y414bu4j/) 로드될 수 있음을 나타냅니다.
    - 다른 종류의 리소스(이미지, 스타일시트 등)에 대해서도 유사한 방식으로 지시문을 작성할 수 있습니다.
- 지시문 옵션 사용: CSP는 다양한 옵션을 제공하여 보안 정책을 조정할 수 있습니다. 일부 일반적인 옵션은 아래와 같습니다:
    - `'self'`: 현재 도메인 내에서만 리소스를 로드할 수 있도록 합니다.
    - `'none'`: 어떠한 외부 출처에서도 리소스를 로드하지 않도록 합니다.
    - `'unsafe-inline'`: 인라인 스크립트 실행을 허용합니다.
    - `'unsafe-eval'`: eval() 함수나 Function() 생성자와 같은 동적 코드 실행을 허용합니다.
- 보안 검토 및 업데이트: CSP 설정 후에는 웹 사이트가 제대로 작동하는지 확인하고, 보안 취약점이 있는지 주기적으로 검토해야 합니다. 필요에 따라 CSP 정책을 업데이트하고 개선해야 합니다.
- CSP 설정은 웹 애플리케이션의 보안 강화에 중요한 역할을 합니다. 적절한 정책 설정과 주기적인 검토를 통해 애플리케이션의 보안 취약점을 최소화할 수 있습니다.

### **XSS와 CSRF 공격의 차이점은 무엇인가요?**

- 두 종류 모두 서버와 클라이언트 간의 요청-응답 메카니즘을 기반으로 하지만 XSS는 클라이언트 측에서 코드 실행을 통해 정보를 탈취하는 반면, CSRF은 서버 측에서 이미 인증 받은 상태를 이용하여 원치 않는 동작을 수행시키게 합니다.

## 추가 개념

### **제목 heading3**

내용

---

⚠️여기에 각주내용 및 출처, 그림 제목 등에 대해서 달아주세요!!!

표: 노션에서 제공해주는 기본 표 사용. 데이터베이스X

그림: 피그잼으로 도식화하여 사용 ~ 임시로 레퍼런스 사용 가능

코드: 노션에서 제공해주는 코드 블럭 사용 

단축키: ```(백틱 3개)

`백틱`: 메서드 및 코드 블럭에서 사용한 내용을 본문에서 언급할 때 

단축키: 해당 내용을 드래그하여 ctrl+E

인용: 노션에서 제공해주는 기본 스타일 사용

출처가 필요한 내용: *기울게* → 추후 일괄 수정 예정*

⚠️ 질문에 대한 답변 완료 및 저작권, 맞춤법 등의 추가 검사까지 완료

→페이지 아이콘 바꾸기 ✅ 해당 아이콘으로 페이지 아이콘을 바꿔주세요!